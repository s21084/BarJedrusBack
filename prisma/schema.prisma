// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}
model User {
 id Int @id @default(autoincrement())
 login String @unique
 email String @unique
 isAdmin Boolean @default(false)
 isVerified Boolean @default(false)
 personId Int 
 person Person @relation(fields: [personId], references: [id])
 schedule Schedule[]
 vacation Vacation[]
}
model Person {
 id Int @id @default(autoincrement())
 name String
 surname String
 phone String
 adressId Int 
 adress Adress @relation(fields: [adressId], references: [id])
 user User[]
 subscription Subscription[]
}
model Adress {
  id Int @id @default(autoincrement())
  Street String
  HomeNumber String
  FlatNumber String?
  City String
  person Person[]
}
model Dish {
  id Int @id @default(autoincrement())
  name String @unique
  priceForPiece Int?
  priceForWeight String?
}
model Event {
 id Int @id @default(autoincrement())
 name String 
 date DateTime
 decoration Boolean
 vegeCount Int?
 meatCount Int?
 prePay Int?
 priceFull Int?
 notes String
}
model Schedule {
 id Int @id @default(autoincrement())
 startHour DateTime
 endHour DateTime
 userId Int 
 user User @relation(fields: [userId], references: [id])
}
model Subscription {
 id Int @id @default(autoincrement())
 isCurrentMonthPayed String
 dishType String
 countOfDish Int
 onPlace Boolean
 notes String?
 personId Int 
 person Person @relation(fields: [personId], references: [id])
}
model Vacation {
 id Int @id @default(autoincrement())
 dayStart DateTime
 dayEnd DateTime
 userId Int 
 user User @relation(fields: [userId], references: [id])
}
model InformationBar {
 id Int @id @default(autoincrement())
 startHour DateTime
 endHour DateTime
 bonusNote String?
}
